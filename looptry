local Players = game:GetService("Players")
local player = Players.LocalPlayer
local gui = player:WaitForChild("PlayerGui")

-- Clean up old GUI if it exists
if gui:FindFirstChild("FakeDisconnectUI") then
	gui.FakeDisconnectUI:Destroy()
end

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "FakeDisconnectUI"
screenGui.IgnoreGuiInset = true
screenGui.ResetOnSpawn = false
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
screenGui.Parent = gui

-- ðŸ”’ Input blocker (even blocks Leave/Settings)
local inputBlocker = Instance.new("TextButton")
inputBlocker.Size = UDim2.new(1, 0, 1, 0)
inputBlocker.Position = UDim2.new(0, 0, 0, 0)
inputBlocker.BackgroundTransparency = 1
inputBlocker.AutoButtonColor = false
inputBlocker.Modal = true
inputBlocker.Text = ""
inputBlocker.ZIndex = 1
inputBlocker.Parent = screenGui

-- ðŸ”² Dark overlay
local overlay = Instance.new("Frame")
overlay.Size = UDim2.new(1, 0, 1, 0)
overlay.BackgroundColor3 = Color3.new(0, 0, 0)
overlay.BackgroundTransparency = 0.4
overlay.ZIndex = 2
overlay.Parent = screenGui

-- ðŸ’‰ Injecting spinner UI
local injectingFrame = Instance.new("Frame")
injectingFrame.Size = UDim2.new(0.5, 0, 0.2, 0)
injectingFrame.Position = UDim2.new(0.25, 0, 0.4, 0)
injectingFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
injectingFrame.ZIndex = 3
injectingFrame.BorderSizePixel = 0
injectingFrame.Parent = screenGui

local injectingText = Instance.new("TextLabel")
injectingText.Size = UDim2.new(1, 0, 1, 0)
injectingText.BackgroundTransparency = 1
injectingText.Text = "Injecting script..."
injectingText.TextColor3 = Color3.new(1, 1, 1)
injectingText.Font = Enum.Font.SourceSansBold
injectingText.TextScaled = true
injectingText.ZIndex = 4
injectingText.Parent = injectingFrame

-- Optional spinner
local spinner = Instance.new("ImageLabel")
spinner.Size = UDim2.new(0, 40, 0, 40)
spinner.Position = UDim2.new(0.5, -20, 1, -50)
spinner.BackgroundTransparency = 1
spinner.Image = "rbxassetid://10493257496" -- You can replace with any loading icon
spinner.ZIndex = 5
spinner.Parent = injectingFrame

-- ðŸ’¬ Function to show fake disconnect prompt
local function showPrompt(message)
	injectingFrame.Visible = false

	local promptFrame = Instance.new("Frame")
	promptFrame.Size = UDim2.new(0.6, 0, 0.3, 0)
	promptFrame.Position = UDim2.new(0.2, 0, 0.35, 0)
	promptFrame.BackgroundColor3 = Color3.fromRGB(36, 36, 36)
	promptFrame.BorderSizePixel = 0
	promptFrame.ZIndex = 6
	promptFrame.Parent = screenGui

	local title = Instance.new("TextLabel")
	title.Size = UDim2.new(1, 0, 0.3, 0)
	title.Text = "Disconnected"
	title.TextColor3 = Color3.new(1, 1, 1)
	title.Font = Enum.Font.SourceSansBold
	title.TextScaled = true
	title.BackgroundTransparency = 1
	title.ZIndex = 7
	title.Parent = promptFrame

	local body = Instance.new("TextLabel")
	body.Size = UDim2.new(1, -20, 0.3, 0)
	body.Position = UDim2.new(0, 10, 0.3, 0)
	body.Text = message
	body.TextColor3 = Color3.new(0.9, 0.9, 0.9)
	body.Font = Enum.Font.SourceSans
	body.TextWrapped = true
	body.TextScaled = true
	body.BackgroundTransparency = 1
	body.ZIndex = 7
	body.Parent = promptFrame

	local yesBtn = Instance.new("TextButton")
	yesBtn.Size = UDim2.new(0.45, 0, 0.2, 0)
	yesBtn.Position = UDim2.new(0.05, 0, 0.75, 0)
	yesBtn.Text = "Yes"
	yesBtn.TextColor3 = Color3.new(0, 0, 0)
	yesBtn.BackgroundColor3 = Color3.fromRGB(220, 220, 220)
	yesBtn.Font = Enum.Font.SourceSansBold
	yesBtn.TextScaled = true
	yesBtn.ZIndex = 7
	yesBtn.Parent = promptFrame

	local noBtn = Instance.new("TextButton")
	noBtn.Size = UDim2.new(0.45, 0, 0.2, 0)
	noBtn.Position = UDim2.new(0.5, 0, 0.75, 0)
	noBtn.Text = "No"
	noBtn.TextColor3 = Color3.new(1, 1, 1)
	noBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
	noBtn.Font = Enum.Font.SourceSansBold
	noBtn.TextScaled = true
	noBtn.ZIndex = 7
	noBtn.Parent = promptFrame

	yesBtn.MouseButton1Click:Connect(function()
		promptFrame:Destroy()
		injectingFrame.Visible = true
		injectingText.Text = "Injecting script..."
		spinner.Rotation = 0

		local spin = true
		spawn(function()
			while spin do
				spinner.Rotation += 10
				task.wait(0.05)
			end
		end)

		task.wait(5)
		spin = false

		local reasons = {
			"Failed to inject script. Want to try again?",
			"Slow internet connection. Want to reconnect?"
		}
		showPrompt(reasons[math.random(1, #reasons)])
	end)

	noBtn.MouseButton1Click:Connect(function()
		-- Do nothing, stay on modal
	end)
end

-- ðŸ•“ Spinner animation
spawn(function()
	while true do
		spinner.Rotation += 10
		task.wait(0.05)
	end
end)

-- ðŸ•” Wait 5s then show prompt
task.wait(5)
injectingFrame.Visible = false
showPrompt("Would you like to inject scripts by BaconScripts?")
