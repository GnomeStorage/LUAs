local Players = game:GetService("Players")

-- Safely wait for LocalPlayer and PlayerGui
local player = Players.LocalPlayer
if not player then
    repeat wait() until Players.LocalPlayer
    player = Players.LocalPlayer
end

local gui = player:FindFirstChildOfClass("PlayerGui")
if not gui then
    repeat wait() until player:FindFirstChildOfClass("PlayerGui")
    gui = player:FindFirstChildOfClass("PlayerGui")
end

-- Start UI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "FakeDisconnectUI"
screenGui.ResetOnSpawn = false
screenGui.IgnoreGuiInset = true
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
screenGui.Parent = gui

-- Dark background
local background = Instance.new("Frame")
background.Size = UDim2.new(1, 0, 1, 0)
background.BackgroundColor3 = Color3.new(0, 0, 0)
background.BackgroundTransparency = 0.4
background.Parent = screenGui

-- Message box
local box = Instance.new("Frame")
box.Size = UDim2.new(0.6, 0, 0.3, 0)
box.Position = UDim2.new(0.2, 0, 0.35, 0)
box.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
box.Parent = screenGui

-- Title
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0.3, 0)
title.Text = "Disconnected"
title.TextColor3 = Color3.new(1,1,1)
title.Font = Enum.Font.SourceSansBold
title.TextScaled = true
title.BackgroundTransparency = 1
title.Parent = box

-- Message
local message = Instance.new("TextLabel")
message.Size = UDim2.new(1, -20, 0.3, 0)
message.Position = UDim2.new(0, 10, 0.3, 0)
message.Text = "Would you like to inject scripts by BaconScripts?"
message.TextColor3 = Color3.new(0.8, 0.8, 0.8)
message.Font = Enum.Font.SourceSans
message.TextWrapped = true
message.TextScaled = true
message.BackgroundTransparency = 1
message.Parent = box

-- Yes Button
local yesBtn = Instance.new("TextButton")
yesBtn.Size = UDim2.new(0.4, 0, 0.25, 0)
yesBtn.Position = UDim2.new(0.1, 0, 0.7, 0)
yesBtn.Text = "Yes"
yesBtn.TextColor3 = Color3.new(0, 0, 0)
yesBtn.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
yesBtn.Font = Enum.Font.SourceSansBold
yesBtn.TextScaled = true
yesBtn.Parent = box

-- No Button
local noBtn = Instance.new("TextButton")
noBtn.Size = UDim2.new(0.4, 0, 0.25, 0)
noBtn.Position = UDim2.new(0.5, 10, 0.7, 0)
noBtn.Text = "No"
noBtn.TextColor3 = Color3.new(1, 1, 1)
noBtn.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
noBtn.Font = Enum.Font.SourceSansBold
noBtn.TextScaled = true
noBtn.Parent = box

yesBtn.MouseButton1Click:Connect(function()
    message.Text = "Injecting script..."
    wait(5)
    local failMsgs = {
        "Failed to inject script. Want to try again?",
        "Slow internet connection. Want to reconnect?"
    }
    message.Text = failMsgs[math.random(1, #failMsgs)]
end)
